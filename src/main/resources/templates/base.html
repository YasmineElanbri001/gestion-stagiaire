<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Accueil</title>
    <link rel="stylesheet" type="text/css" href="/stage.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>
<body>
<div class="conteneur px-3 pb-3 vh-100 d-flex flex-column">
    <div class="py-2 d-flex align-items-center justify-content-between">
        <div class="d-flex">
            <h3 class="fw-bolder"><span class="text-secondary">Agence du Bassin Hydraulique : </span>Gestion des stages</h3>
        </div>
        <div class="d-flex align-items-center">
            <div class="border p-2 me-2 rounded">
                <span sec:authentication="name" class="fw-bolder me-2">Username</span>
                <span sec:authentication="principal.authorities[0].authority" class="text-danger"></span>
            </div>
            <form th:action="@{/logout}" method="post" class="p-0 border-0 bg-danger m-0">
                <input type="hidden" name="_csrf" th:value="${_csrf.token}"/>
                <button type="submit" class="btn btn-dark">
                    <svg class="me-1" width="26px" height="26px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                         fill="#ffffff">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <g>
                                <path fill="none" d="M0 0h24v24H0z"></path>
                                <path d="M5 11h8v2H5v3l-5-4 5-4v3zm-1 7h2.708a8 8 0 1 0 0-12H4A9.985 9.985 0 0 1 12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.985 9.985 0 0 1-8-4z"></path>
                            </g>
                        </g>
                    </svg>
                    Se d√©connecter
                </button>
            </form>
        </div>
    </div>
    <div class="btns">
        <nav>
            <a th:href="@{/}" th:class="${uri == 'home' ? 'bg-main-link' : ''}">
                <svg class="me-2" fill="#ffffff" width="26px" height="26px" viewBox="0 0 1920.00 1920.00"
                     xmlns="http://www.w3.org/2000/svg" stroke="#ffffff" stroke-width="0.019200000000000002">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path d="M833.935 1063.327c28.913 170.315 64.038 348.198 83.464 384.79 27.557 51.84 92.047 71.944 144 44.387 51.84-27.558 71.717-92.273 44.16-144.113-19.426-36.593-146.937-165.46-271.624-285.064Zm-43.821-196.405c61.553 56.923 370.899 344.81 415.285 428.612 56.696 106.842 15.811 239.887-91.144 296.697-32.64 17.28-67.765 25.411-102.325 25.411-78.72 0-154.955-42.353-194.371-116.555-44.386-83.802-109.102-501.346-121.638-584.245-3.501-23.717 8.245-47.21 29.365-58.277 21.346-11.294 47.096-8.02 64.828 8.357ZM960.045 281.99c529.355 0 960 430.757 960 960 0 77.139-8.922 153.148-26.654 225.882l-10.39 43.144h-524.386v-112.942h434.258c9.487-50.71 14.231-103.115 14.231-156.084 0-467.125-380.047-847.06-847.059-847.06-467.125 0-847.059 379.935-847.059 847.06 0 52.97 4.744 105.374 14.118 156.084h487.454v112.942H36.977l-10.39-43.144C8.966 1395.137.044 1319.128.044 1241.99c0-529.243 430.645-960 960-960Zm542.547 390.686 79.85 79.85-112.716 112.715-79.85-79.85 112.716-112.715Zm-1085.184 0L530.123 785.39l-79.85 79.85L337.56 752.524l79.849-79.85Zm599.063-201.363v159.473H903.529V471.312h112.942Z"
                              fill-rule="evenodd"></path>
                    </g>
                </svg>
                Tableau de bord
            </a>
            <a th:href="@{/stagiaires}" th:class="${uri == 'stagiaire' ? 'bg-main-link' : ''}">Gestion des stagiaires</a>
            <a th:href="@{/stages}" th:class="${uri == 'stage' ? 'bg-main-link' : ''}">Gestion des Stages</a>
            <a th:if="${#authentication.principal.authorities[0].authority == 'ADMIN'}" th:href="@{/encstages}" th:class="${uri == 'encadrant' ? 'bg-main-link' : ''}">Gestion des encadrants</a>
            <a th:href="@{/rapports}" th:class="${uri == 'rapport' ? 'bg-main-link' : ''}">Gestion des rapports</a>
            <a th:if="${#authentication.principal.authorities[0].authority == 'ADMIN'}" th:href="@{/utilisateurs}" th:class="${uri == 'utilisateur' ? 'bg-main-link' : ''}">Gestion des utilisateurs</a>
        </nav>
    </div>
    <div class="d-flex flex-column flex-grow-1 mt-1" layout:fragment="contenu">

    </div>
</div>
</body>
</html>