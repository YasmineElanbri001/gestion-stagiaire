<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="base"
        lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Liste des rapports</title>
</head>
<body>
<div layout:fragment="contenu">
    <div class="d-flex justify-content-between align-items-center p-2">
        <h3 class="fw-bold" th:text="'Liste des rapports  : ' + ${rapports.size()}"></h3>
        <a th:href="@{/rapports/create}" class="btn btn-primary">
            <svg width="26px" height="26px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path d="M7 12L12 12M12 12L17 12M12 12V7M12 12L12 17" stroke="#ffffff" stroke-width="2"
                          stroke-linecap="round" stroke-linejoin="round"></path>
                </g>
            </svg>
            Créer un rapport
        </a>
    </div>
    <table class="table table-bordered table-hover">
        <thead class="thead-dark">
        <tr class="text-center">
            <th>ID</th>
            <th>Sujet</th>
            <th>Date de Soumission</th>
            <th>Rédigé par</th>
            <th>Service</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="rapport : ${rapports}" class="text-center align-middle">
            <td th:text="${rapport.id}"></td>
            <td th:text="${rapport.sujet}"></td>
            <td th:text="${rapport.dateSoumission}"></td>
            <td th:text="${rapport.getStage().getStagiaire().getNom()}"></td>
            <td th:text="${rapport.getStage().getService()}"></td>
            <td class="text-center">
                <a class="btn btn-warning me-3" th:href="@{/rapports/edit/{id}(id=${rapport.id})}">
                    <svg fill="#000000" width="26px" height="26px" viewBox="0 0 24 24" id="update-alt-2"
                         data-name="Flat Line" xmlns="http://www.w3.org/2000/svg" class="icon flat-line">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path id="primary" d="M6,5H16a2,2,0,0,1,2,2v7"
                                  style="fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                            <path id="primary-2" data-name="primary" d="M18,19H8a2,2,0,0,1-2-2V10"
                                  style="fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                            <polyline id="primary-3" data-name="primary" points="15 11 18 14 21 11"
                                      style="fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></polyline>
                            <polyline id="primary-4" data-name="primary" points="9 13 6 10 3 13"
                                      style="fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></polyline>
                        </g>
                    </svg>
                    &nbsp;&nbsp;Modifier&nbsp;&nbsp;
                </a>
                <a class="btn btn-danger" th:href="@{/rapports/delete/{id}(id=${rapport.id})}"
                   onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce stagiaire ?')">
                    <svg width="26px" height="26px" viewBox="0 0 24.00 24.00" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path d="M10 12V17" stroke="#ffffff" stroke-width="2" stroke-linecap="round"
                                  stroke-linejoin="round"></path>
                            <path d="M14 12V17" stroke="#ffffff" stroke-width="2" stroke-linecap="round"
                                  stroke-linejoin="round"></path>
                            <path d="M4 7H20" stroke="#ffffff" stroke-width="2" stroke-linecap="round"
                                  stroke-linejoin="round"></path>
                            <path d="M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10"
                                  stroke="#ffffff" stroke-width="2" stroke-linecap="round"
                                  stroke-linejoin="round"></path>
                            <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="#ffffff"
                                  stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </g>
                    </svg>
                    &nbsp;&nbsp;Supprimer&nbsp;&nbsp;
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
